---
title             : "Assignment 5"
shorttitle        : "2024/1/16"

author: 
  - name          : "Happy W"
    affiliation   : "1"
    corresponding : no    # Define only one corresponding author
    address       : "Postal address"
    email         : "happyywang@uchicago.edu"
    role: # Contributorship roles (e.g., CRediT, https://credit.niso.org/)
      - "homework assigment"

affiliation:
  - id            : "1"
    institution   : "University of Chicago"

authornote: |
  Add complete departmental affiliations for each author here. Each new line herein must be indented, like this line.

  Enter author note here.

abstract: |
  One or two sentences providing a **basic introduction** to the field,  comprehensible to a scientist in any discipline.
  Two to three sentences of **more detailed background**, comprehensible  to scientists in related disciplines.
  One sentence clearly stating the **general problem** being addressed by  this particular study.
  One sentence summarizing the main result (with the words "**here we show**" or their equivalent).
  Two or three sentences explaining what the **main result** reveals in direct comparison to what was thought to be the case previously, or how the  main result adds to previous knowledge.
  One or two sentences to put the results into a more **general context**.
  Two or three sentences to provide a **broader perspective**, readily comprehensible to a scientist in any discipline.
  
  <!-- https://tinyurl.com/ybremelq -->
  
keywords          : "keywords"
wordcount         : "X"

bibliography      : "r-references.bib"

floatsintext      : no
linenumbers       : yes
draft             : no
mask              : no

figurelist        : no
tablelist         : no
footnotelist      : no

classoption       : "man"
output            : papaja::apa6_pdf
---
<!--Assignment 14-->
While self-concept clarity and subjective well-being may change with age (see Table\ \@ref(tab:table-age-scc-and-swl), the curvilinear relationship is hard to find in a correlation (see Figure\ \@ref(fig:Figure 1)). 
Something about the role of possible selves and its relationship with well-being and self-concept clarity. 
The influence of the frequency thinking about positive possible selves on self-concept clarity is positive (See Figure\ \@ref(fig:Figure 2)).

```{r table-age-scc-and-swl, results = 'asis'}
#Assignment 14
library(knitr)
install.packages("kableExtra")
library(kableExtra)
table1 <- Age_and_Possible_Selves_9_6_19 %>%
  group_by(age) %>%
  summarize(mean.scc = mean(scc_avg), sd.scc = sd(scc_avg), mean.swl = mean(swl_avg), sd.swl = sd(swl_avg),n.model = n())

kable(table1, 
      digits = 2,
      col.names = c("Age Groups", "Self-Concpet Clarity Score", "Subjective Well-Being Score"),
      align = c("c", "c", "c"),
      caption = "Self-Concept Clarity and Subjective Well-Being Across Age" ) %>%
  kable_styling(bootstrap_options = c("striped", "hover"), full_width = F) %>%
  kable_classic(html_font = "Times New Rome") %>%
  row_spec(1, bold = T) %>%
  
  

# apa_table(table1, caption = "Self-Concept Clarity and Subjective Well-Being Across Age") is this argument right?

```

```{r plot, include=FALSE}
#Assignment 10
#graph out the potential models and results
#will need a moderated mediation model, a curvilinear model, and some tables to display the result
#ggplot()+geom_point()+geom_smooth() for the simple mediation, simple moderation
#the curvilinear regression model i can use ggplot2()+geom_line() or plot(lm())
#for the moderated mediation model, I will need to use sem and semPlot

#Assignment 11
library(ggplot2)
ggplot(data = Age_and_Possible_Selves_9_16_19, aes(x = posfre, y = scc)) +
  geom_line()
#this is just an example for a line graph
#if i want to use age_sq as a variable, which I will need to, the graph needs to be curvilinear
#I wonder if geom_line will do it or not
```

```{r Figure 1, include=FALSE} 
#Assignment 12 Part 2
ggplot(data = Age_and_Possible_Selves_9_16_19, aes(x = swl, y = scc, color = age_group)) +
  geom_smooth(method = lm) +
  geom_point() +
  scale_x_continuous(limits = , breaks = ) +
  scale_y_continuous(limits = ,breaks = ) +
  facet_wrap(~ age_group, levels = c("young_adults", "middle_aged", "elderly_adults"), ncol = 3) +
  theme_minimal()+
  labs()
#I can use this plot to compare the correlations accross different age groups
#add labels and titles to make the plot clearer
#make them side_by_side to emphasis the different age groups effects
```

```{r Figure 2, include=FALSE}
#Assignment 13 Part 2
ggplot(data = Age_and_Possible_Selves_9_16_19, aes(x = posfre, y = scc, color = age_group)) +
  geom_smooth(method = lm) +
  geom_point() +
  scale_x_continuous(limits = , breaks = ) +
  scale_y_continuous(limits = ,breaks = ) +
  facet_wrap(~ age_group, levels = c("young_adults", "middle_aged", "elderly_adults"), ncol = 3) +
  labs(x = "Frequency of Postive Self", 
       y = "Self-Concept Clarity", 
       title = "Correlation between frequency of thinking about positve self on SCC",
       caption = "APA style; data from Age and Possible Selves",
       color = "Age Groups") +
  theme_minimal()+
  theme(axis.title.x = element_text(angle = 45, hjust = 1),
        legend.position = "left",
        legend.title = element_text(family = "Times New Roman"),
        legend.text = element_text(family = "Times New Roman"))

```

```{r import Age and Possible Selves data, include=FALSE}
#Assignment 6 importing datasets
library(haven)
Age_and_Possible_Selves<-read_sav("localonly/Age and Possible Selves 9.6.19.sav")
#this dataset can be read in console
#This dataset is not tidy. We need to sort the data variables by scales not by scale items. All the possible selves measures, both quantitative and qualitative are meaningful while information on the participants' location, answer duration etc. are not necessary.
```

```{r create intermediate dataset for Age and Possible Selves, include=FALSE}
#Assignment 6 continued, create an intermediate dataset
library(dplyr)
library(readr)
#use two dplyr function
intermediate_AgeandPossibleSelves <- Age_and_Possible_Selves_9_6_19 %>%
  filter(!is.na(Q27)) %>%
  arrange(Q27)
summarise(Age_and_Possible_Selves, mean_poscle = mean(poscle1, poscle2, poscle3, poscle4))
#write into .sav file
write_sav(intermediate_AgeandPossibleSelves, "testing intermediate_AgeandPossibleSelves.sav")
```

```{r hello_world function, include=FALSE}
#Assignment 5 source
source("Install papaja.R")
#call the function
hello_world("Happy",1,1,F)
```

<!--Assignment 5 continued with three levels of headers, unordered and ordered list, bold and italicized, one linked URL, and one HTML comment/which is this one/ -->
# **Lorem ipsum dolor sit amet**
* Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
  * _commodo_
  
## Lorem ipsum dolor
1. **non**
  2. *Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.*

### Lorem ipsum
[cheatsheet](https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf)

<!--End of Assignment 5-->

```{r trying source, x = 1}
source("Install papaja.R")
```

```{r setup, include = FALSE}
library("papaja")
r_refs("r-references.bib")
```

```{r analysis-preferences}
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)
```



# Methods
We report how we determined our sample size, all data exclusions (if any), all manipulations, and all measures in the study. <!-- 21-word solution (Simmons, Nelson & Simonsohn, 2012; retrieved from http://ssrn.com/abstract=2160588) -->

## Participants

## Material

## Procedure

## Data analysis
We used `r cite_r("r-references.bib")` for all our analyses.


# Results

# Discussion


\newpage

# References

::: {#refs custom-style="Bibliography"}
:::
